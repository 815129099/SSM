(function(n){function i(t,i){this.element=t;this.selObj=n(t);this.settings={width:260,selectionIndex:0,disabled:!1,showSelectionTextOnly:!1,onSelectedOnInit:!1,onSelected:function(){}};this._init(i)}var t="ddlist";i.prototype={_selectIndex:function(n){var i,t,r;this.ddOptions.find("a").removeClass("ddListOptionIsSelected");i=this.ddOptions.find("a").eq(n);i.addClass("ddListOptionIsSelected");t=this.options[n];this.selectedIndex=n;this.selectedValue=t.value;this.selectedText=t.text;this.selObj.find("option").attr("selected",!1);r=this.selObj.find("option").eq(n);r.attr("selected",!0);this.settings.showSelectionTextOnly?this.ddSelection.html(t.text):this.ddSelection.html((t.imageSrc?'<img src="'+t.imageSrc+'" />':"")+(t.text?"<label>"+t.text+"<\/label>":"")+(t.description?"<small>"+t.description+"<\/small>":""))},_open:function(){var t=n(".ddListIsOpen").not(this.ddListObj);t.length!=0&&(t.removeClass("ddListIsOpen"),t.find("> ul").slideUp(50));this.ddListObj.find("> ul").slideDown("fast");this.ddListObj.addClass("ddListIsOpen")},_close:function(){this.ddListObj.removeClass("ddListIsOpen");this.ddListObj.find("> ul").slideUp(50)},_enable:function(){var t=this;this.ddListObj.removeClass("ddListDisabled");this.ddSelection.on("click.ddlist",function(){t._open()});this.ddOptions.find("a").on("click.ddlist",function(){t._selectIndex(n(this).closest("li").index());t._close();t.settings.onSelected.call(t,t.selectedIndex,t.selectedValue,t.selectedText)});this.ddListObj.on("click.ddlist",function(n){n.stopPropagation()});n("body").on("click.ddlist",function(){t._close()})},_disable:function(){n("body").off(".ddlist");this.ddListObj.off(".ddlist");this.ddOptions.find("a").off(".ddlist");this.ddSelection.off(".ddlist");this.ddlistObj.addClass("ddListDisabled")},_init:function(t){this.settings=n.extend({},this.settings,t);var i=this;this.options=[];this.selObj.find("option").each(function(){var t=n(this);i.options.push({text:n.trim(t.text()),value:t.val(),selected:t.attr("selected")=="selected",description:t.data("description"),imageSrc:t.data("imagesrc")})});this.selObj.hide();this.ddListObj=n('<div id="ddList-'+this.selObj.attr("id")+'" class="ddListContainer"><a><\/a><span class="ddListArrow"><\/span><ul><\/ul><\/div>');this.ddListObj.insertAfter(this.selObj);this.ddSelection=this.ddListObj.find("> a");this.ddSelection.css({width:this.settings.width});this.ddOptions=this.ddListObj.find("> ul");this.ddOptions.css({width:this.settings.width});n.each(this.options,function(n,t){t.selected&&(i.settings.selectionIndex=n);i.ddOptions.append("<li><a>"+(t.imageSrc?' <img src="'+t.imageSrc+'" />':"")+(t.text?" <label>"+t.text+"<\/label>":"")+(t.description?" <small>"+t.description+"<\/small>":"")+"<\/a><\/li>")});this.settings.disabled?this.ddlistObj.addClass("ddListDisabled"):this._enable();this._selectIndex(this.settings.selectionIndex);this.settings.onSelectedOnInit&&this.settings.onSelected.call(this,this.selectedIndex,this.selectedValue,this.selectedText)},select:function(n){var i=n[0],t;if(i.index)this.settings.selectionIndex=i.index,this._selectIndex(i.index,!1);else if(i.text){for(t=0;t<this.options.length;t++)if(this.options[t].text==i.text){this.settings.selectionIndex=t;this._selectIndex(t);break}}else if(i.value)for(t=0;t<this.options.length;t++)if(this.options[t].value==i.value){this.settings.selectionIndex=t;this._selectIndex(t);break}},enable:function(n){var t=n[0];t?this._enable():this._disable()}};n.fn[t]=function(r){var u=n(this).data(t);if(u&&r.indexOf("_")!=0)return u[r](Array.prototype.slice.call(arguments,1));if(typeof r=="object"||!r)return u=new i(this,r),n(this).data(t,u),n(this);n.error("Wrong call to "+t)}})(jQuery);
/*
//# sourceMappingURL=service.ddlist.jquery.min.js.map
*/